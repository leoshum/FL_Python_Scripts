<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.3/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    </head>
    <body>
        <table class="table">
            <thead>
              <tr>
                <th>Number</th>
                <th>Merged by</th>
                <th>Comments</th>
                <th>Commits</th>
              </tr>
            </thead>
            <tbody>
              
            </tbody>
          </table>
          
          <script>
            var data = [
    {
      "number": 16544,
      "commits": [
        {
          "sha": "",
          "Upload Date": "",
          "Author": "",
          "Url": "",
          "Files": [
            {
              "sha": "",
              "patch": ""
            }
          ]
        }
      ],
      "Merged by": "",
      "Url": "",
      "Comments": [
        {
          "Author": "",
          "Text": "",
          "State": ""
        }
      ]
    }, {
      "number": 16544,
      "commits": [
        {
          "sha": "",
          "Upload Date": "",
          "Author": "",
          "Url": "",
          "Files": [
            {
              "sha": "",
              "patch": ""
            }
          ]
        }
      ],
      "Merged by": "",
      "Url": "",
      "Comments": [
        {
          "Author": "",
          "Text": "",
          "State": ""
        }
      ]
    }
  ];

  $.each(data, function(index, item) {
    var $row = $('<tr data-toggle="collapse" data-target="#row' + index + '" aria-expanded="false" aria-controls="row' + index + '">' +
                  '<td>' + item.number + '</td>' +
                  '<td>' + item['Merged by'] + '</td>' +
                  '<td>' + item.Comments.length + '</td>' +
                  '<td>' + item.commits.length + '</td>' +
                '</tr>');
    var $detailsRow = $('<tr id="row' + index + '" class="collapse" colspan="3">' +
                        '<td colspan="4">' +
                          '<div class="row">' +
                            '<div class="col-md-6">' +
                              '<h4>Comments:</h4>' +
                              '<ul>' +
                                $.map(item.Comments, function(comment) {
                                  return '<li><strong>' + comment.Author + ':</strong> ' + comment.Text + '</li>';
                                }).join('') +
                              '</ul>' +
                            '</div>' +
                            '<div class="col-md-6">' +
                              '<h4>Commits:</h4>' +
                              '<ul>' +
                                $.map(item.commits, function(commit) {
                                  return '<li><strong>' + commit.sha + ':</strong> ' + commit.Files.length + ' files changed</li>';
                                }).join('') +
                              '</ul>' +
                            '</div>' +
                          '</div>' +
                        '</td>' +
                      '</tr>');

    $('tbody').append($row).append($detailsRow);
    jQuery(function($) {
  $('tr[data-toggle="collapse"]').click(function() {
    var target = $(this).data('target');
    $(target).collapse('toggle');
  });
});
  });
</script>
    </body>
</html>